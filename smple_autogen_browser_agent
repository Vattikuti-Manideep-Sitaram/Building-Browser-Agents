import asyncio
from autogen_agentchat.ui import Console
from autogen_ext.models.openai import OpenAIChatCompletionClient
from web_surfer_agent import MultimodalWebSurfer

async def main() -> None:
    # Create the web surfer agent
    web_surfer = MultimodalWebSurfer(
        name="MultimodalWebSurfer",
        model_client=OpenAIChatCompletionClient(model="gpt-4o-2024-08-06"),
        headless=False,
        animate_actions=True,
        to_save_screenshots=True,
        debug_dir="./screenshots"
    )

    # Directly run the agent with the task
    stream = web_surfer.run_stream(
        task="Navigate to the Github login page and wait for user to enter his details and login and mention all repositories present in his github"
    )
    
    # Display the output
    await Console(stream)
    await web_surfer.close()

asyncio.run(main())